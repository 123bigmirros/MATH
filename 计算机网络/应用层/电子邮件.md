### 电子邮件  

**概念**  
一种异步通信方式。电子邮件把邮件发送到收件人使用的邮件服务器，并放在其中的收件人邮箱中

**组成**  
用户代理、邮件服务器、电子邮件协议(SMTP、POP3)

- 用户代理(UA)  
用户和电子邮件系统的接口。为用户提供接口来发送和接收邮件，具有撰写、显示和邮件处理的功能。  

- 邮件服务器  
发送和接收邮件，同时想发信任报告邮件传送情况。采用客户/服务器方式工作，但同时作为客户端和服务端。

- 邮件发送协议和传送协议  
发送协议用于用户代理向邮件服务器发送邮件或在邮件服务器之间发送邮件。(SMPT)
邮件读取协议用于用户在邮件服务器读取邮件。(POP3)
    - SMPT
      - 概念  
      使用TCP连接，25号端口
      - 过程  
        1. 连接建立  
        SMPT客户程序每隔一段时间就扫描邮件缓存，如果有待发送的邮件，就通过25端口与接收方服务器建立联系
        2. 邮件传送  
            1. 客户端发送 MAIL FROM: 邮件地址
            2. 服务器准备好，发送 250 OK
            3. 客户端发送一个或多个 RCPT命
        3. 连接释放

**过程**  
1. 发件人用用户代理来编写邮件。用户代理用SMTP把邮件传送给邮件服务器。
2. 发送端邮件服务器将邮件放入缓存队列，等待缓存
3. 运行在邮件服务器的SMTP客户进程，在发现有待发送的邮件后，就向接收端邮件服务器的SMTP服务进程建立TCP连接 
4. TCP连接建立后，SMTP客户进程向SMTP服务器发送邮件  。发送完后关闭连接
5. 运行在接收端服务器中的服务器进程在接收到邮件后将邮件放入用户邮箱，等待接收人读取
6. 收信人打算取信时，调用用户代理，使用POP3协议。

